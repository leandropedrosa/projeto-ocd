<div [ngSwitch]="acao">
    <div *ngSwitchCase="'PASSO3'">
        <ActionBar title="RASTREAMENTO"></ActionBar>
        <FlexboxLayout class="page">
            <StackLayout class="form">
                <GridLayout rows="auto, auto, auto">
                    <StackLayout row="0" style="padding-top:2px">
                        <Label class="header" text="Passo 3 - Dados do Rastreamento:"></Label>
                    </StackLayout>
                    <StackLayout row="1" style="height:70%">
                        <ScrollView sdkExampleTitle sdkToggleNavButton>
                            <GridLayout class="m-15" rows="auto auto auto auto">

                                <StackLayout row="0">
                                    <Label text="Fatores de Risco:"></Label>
                                    <RadListView [items]="dataItemsFR"
                                        selectionBehavior="Press"
                                        (itemSelected)="onItemSelectedFR($event)"
                                        (itemDeselected)="onItemDeselectedFR($event)"
                                        multipleSelection="true">
                                        <ng-template tkListItemTemplate
                                            let-item="item">
                                            <StackLayout class="listItemStackLayout">
                                                <Label class="nameLabel"
                                                    [text]="item.id"></Label>
                                                <Label class="descriptionLabel"
                                                    [text]="item.nome"></Label>
                                            </StackLayout>
                                        </ng-template>
                                        <ListViewLinearLayout
                                            tkListViewLayout itemHeight="50"
                                            scrollDirection="Vertical"></ListViewLinearLayout>
                                    </RadListView>
                                </StackLayout>

                                <StackLayout row="1">
                                    <Label text="Presença de Lesão:"></Label>
                                    <RadListView [items]="dataItemsLE"
                                        selectionBehavior="Press"
                                        (itemSelected)="onItemSelectedLE($event)"
                                        (itemDeselected)="onItemDeselectedLE($event)"
                                        multipleSelection="true">
                                        <ng-template tkListItemTemplate
                                            let-item="item">
                                            <StackLayout class="listItemStackLayout">
                                                <Label class="nameLabel"
                                                    [text]="item.id"></Label>
                                                <Label class="descriptionLabel"
                                                    [text]="item.nome"></Label>
                                            </StackLayout>
                                        </ng-template>
                                        <ListViewLinearLayout
                                            tkListViewLayout itemHeight="50"
                                            scrollDirection="Vertical"></ListViewLinearLayout>
                                    </RadListView>
                                </StackLayout>

                                <StackLayout row="2">
                                    <Label text="Local de Referência:"></Label>
                                    <ListPicker [items]="rastreamento.listPickerLocalAtendimento"
                                        [(ngModel)]="onSelectedIndexChanged"></ListPicker>
                                </StackLayout>

                                <StackLayout row="3">
                                    <Label text="Data Sugerida para Retorno:"
                                        col="0"></Label>
                                    <DatePicker col="1" [year]="currentYear"
                                        [month]="currentMonth" [day]="currentDay"
                                        minDate="1970-01-01" maxDate="2100-12-31"
                                        loaded="onDataSugeridaRetornoLoaded"></DatePicker>
                                </StackLayout>

                            </GridLayout>
                        </ScrollView>
                    </StackLayout>
                    <StackLayout row="2">
                        <GridLayout row="auto" columns="*, *">
                            <StackLayout row="0" col="0">
                                <Button text="< Anterior" class="btn btn-outline-secondary m-t-20"
                                    (tap)="continuarFluxo('PASSO2')"></Button>
                            </StackLayout>
                            <StackLayout row="0" col="1">
                                <Button text="Próximo >" class="btn btn-outline-primary m-t-20"
                                    (tap)="continuarFluxo('PASSO4')"></Button>
                            </StackLayout>
                        </GridLayout>
                    </StackLayout>
                </GridLayout>
            </StackLayout>
        </FlexboxLayout>
    </div>
    <div *ngSwitchCase="'PASSO2'">
        <passo2 android:[rastreamento]="rastreamento" ios:[rastreamento]="rastreamento"></passo2>
    </div>
    <div *ngSwitchCase="'PASSO4'">
        <passo4 android:[rastreamento]="rastreamento" ios:[rastreamento]="rastreamento"></passo4>
    </div>
</div>